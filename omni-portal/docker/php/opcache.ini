; OPcache configuration for production
; Optimized for Laravel application performance

[opcache]
; Enable OPcache
opcache.enable=1
opcache.enable_cli=0

; Memory configuration
opcache.memory_consumption=256
opcache.interned_strings_buffer=16
opcache.max_accelerated_files=10000
opcache.max_wasted_percentage=10

; JIT Configuration (PHP 8+)
opcache.jit=tracing
opcache.jit_buffer_size=128M

; Performance tuning
opcache.validate_timestamps=0
opcache.revalidate_freq=0
opcache.save_comments=1
opcache.fast_shutdown=1
opcache.enable_file_override=1

; Security
opcache.file_cache_only=0
opcache.file_cache_consistency_checks=1

; Laravel specific optimizations
opcache.preload_user=appuser
; Uncomment and set path for preloading if needed
; opcache.preload=/var/www/backend/preload.php

; Error handling
opcache.error_log=/var/www/backend/storage/logs/opcache_errors.log
opcache.log_verbosity_level=1

; Development settings (comment out in production)
; opcache.validate_timestamps=1
; opcache.revalidate_freq=2